<!DOCTYPE html>
<html lang="es">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Para Nathan ðŸ’œ</title>

<style>
body{
  margin:0;
  overflow:hidden;
  background:black;
  font-family: Arial, Helvetica, sans-serif;
}

#titulo{
  position:absolute;
  top:20px;
  width:100%;
  text-align:center;
  color:#ffc6ff;
  font-size:22px;
  z-index:10;
  text-shadow:0 0 10px #ff8dfc,0 0 25px #ff8dfc;
}

canvas{ display:block; }
</style>
</head>

<body>
<div id="titulo">Para Nathan, el mÃ¡s hermoso del universo ðŸ’œ</div>

<script src="https://cdnjs.cloudflare.com/ajax/libs/three.js/r134/three.min.js"></script>

<script>
// escena
const scene = new THREE.Scene();

// camara optimizada pa celular
const camera = new THREE.PerspectiveCamera(70, innerWidth/innerHeight, 0.1, 2000);
camera.position.z = 18;

// render
const renderer = new THREE.WebGLRenderer({antialias:true});
renderer.setSize(innerWidth, innerHeight);
document.body.appendChild(renderer.domElement);

// luces
const light = new THREE.PointLight(0xffccff, 2, 300);
light.position.set(0,0,0);
scene.add(light);

const ambient = new THREE.AmbientLight(0x8888ff,1);
scene.add(ambient);

//// PLANETA REALISTA
const textureLoader = new THREE.TextureLoader();
const planetTexture = textureLoader.load("https://threejsfundamentals.org/threejs/resources/images/earth-day.jpg");

const planetGeo = new THREE.SphereGeometry(3,64,64);
const planetMat = new THREE.MeshStandardMaterial({
  map:planetTexture,
  emissive:0x6611ff,
  emissiveIntensity:0.3
});
const planet = new THREE.Mesh(planetGeo, planetMat);
scene.add(planet);

//// ESTRELLAS 3D
const starGeo = new THREE.BufferGeometry();
const starCount = 3000;
const positions = [];

for(let i=0;i<starCount;i++){
  positions.push(
    (Math.random()-0.5)*1000,
    (Math.random()-0.5)*1000,
    (Math.random()-0.5)*1000
  );
}

starGeo.setAttribute('position', new THREE.Float32BufferAttribute(positions,3));
const starMat = new THREE.PointsMaterial({color:0xffffff,size:1});
const stars = new THREE.Points(starGeo, starMat);
scene.add(stars);

//// TEXTO EN ORBITA 3D
const palabras = [
"Mi amor","Mi universo","Mi cielo","Mi bebÃ©","Mi estrella",
"Mi felicidad","Mi todo","Mi prÃ­ncipe","Mi hermoso",
"Mi razÃ³n","Mi alegrÃ­a","Mi vida","Mi infinito"
];

const loader = new THREE.FontLoader();
loader.load('https://threejs.org/examples/fonts/helvetiker_regular.typeface.json', function(font){

  palabras.forEach((palabra,i)=>{
    const textGeo = new THREE.TextGeometry(palabra,{
      font:font,
      size:0.5,
      height:0.05
    });

    const textMat = new THREE.MeshBasicMaterial({color:0xffccff});
    const mesh = new THREE.Mesh(textGeo,textMat);

    const angle = (i/palabras.length)*Math.PI*2;
    const radius = 8;

    mesh.position.x = Math.cos(angle)*radius;
    mesh.position.z = Math.sin(angle)*radius;
    mesh.lookAt(planet.position);

    scene.add(mesh);
  });
});

//// ANIMACION
function animate(){
  requestAnimationFrame(animate);

  planet.rotation.y += 0.002;
  stars.rotation.y += 0.0005;

  renderer.render(scene,camera);
}
animate();

//// RESPONSIVE CELULAR
onresize = ()=>{
  camera.aspect = innerWidth/innerHeight;
  camera.updateProjectionMatrix();
  renderer.setSize(innerWidth, innerHeight);
};
</script>

</body>
</html>
